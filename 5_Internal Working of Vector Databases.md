#### *100+ LLM Questions and Answers Every AI Engineer Needs to Know*

---

# 5. Internal Working of Vector Databases

---

### 5.1 What is a vector database?

A vector database is a specialized database designed to store, index, and query high-dimensional vector embeddings. These embeddings are numerical representations of data (e.g., text, images, audio) generated by machine learning models, particularly in natural language processing (NLP) and computer vision. Vector databases enable efficient similarity searches, allowing users to find data points that are semantically or contextually similar to a given query vector. They are essential for applications like recommendation systems, semantic search, and clustering.

---

### 5.2 How does a vector database differ from traditional databases?

Vector databases differ from traditional databases primarily in how they store and retrieve data. Instead of working with structured rows and columns, vector databases store high-dimensional vectors, making them ideal for similarity searches in AI-driven applications like semantic search, recommendation systems, and image or audio retrieval.  

Traditional databases rely on exact matching using structured queries (e.g., SQL), while vector databases use approximate nearest neighbor (ANN) search to find similar vectors based on metrics like cosine similarity or Euclidean distance. This makes vector databases much better suited for tasks where relevance is more important than exact matches.  

Additionally, vector databases use specialized indexing techniques such as HNSW or IVF to optimize search speed and efficiency, whereas traditional databases rely on B-Trees or hash indexes. They are also designed to scale efficiently for handling millions or even billions of vectors, which would be challenging for traditional databases.  

In short, vector databases are built for AI-driven similarity search, while traditional databases are optimized for structured, transactional data retrieval.

---

### 5.3 How does a vector database work?

A vector database works by storing and retrieving high-dimensional vectors, enabling fast similarity searches. Here’s how it functions:  

#### **1. Storing Vectors**  

When you input data (text, image, audio), it is first converted into a **vector embedding** using a machine learning model (e.g., OpenAI, SBERT, CLIP). These embeddings are numerical representations of the data, capturing their meaning or characteristics. The vector database stores these embeddings along with metadata (e.g., document ID, labels).  

#### **2. Indexing for Fast Search**  

To enable efficient searches, the database builds an **index** using specialized structures like **HNSW (Hierarchical Navigable Small World), IVF (Inverted File Index), or PQ (Product Quantization)**. These indexes allow quick retrieval by approximating nearest neighbors instead of performing an exhaustive search.  

#### **3. Querying with Similarity Search**  

When a query (text, image, etc.) is provided, it is first converted into a **vector embedding** using the same model. The database then searches for the **nearest vectors** using similarity metrics such as:  

- **Cosine similarity** – Measures angle similarity between vectors.  
- **Euclidean distance** – Measures geometric closeness.  
- **Dot product** – Measures projection-based similarity.  

#### **4. Returning Relevant Results**  

The database retrieves the closest matching vectors and returns the corresponding data (e.g., most relevant documents, similar images, or recommended products). Often, hybrid search techniques (combining keyword search like BM25 with vector search) improve accuracy.  

#### **5. Scaling & Optimization**  

Vector databases optimize performance by:  

- **Using distributed architectures** (for handling large datasets).  
- **Applying quantization** (to reduce memory usage while maintaining accuracy).  
- **Caching frequent queries** (to speed up response times).  

#### **Examples of Vector Databases**  

Popular vector databases include **FAISS, Pinecone, Weaviate, Milvus, and Vespa**, each designed to handle large-scale, high-dimensional similarity searches efficiently.  

In short, a vector database transforms data into embeddings, indexes them for fast retrieval, and finds similar items using nearest neighbor search, making it essential for AI-driven applications.

---

### 5.4 Explain difference between vector index, vector DB & vector plugins?

A **vector index** is a data structure designed to optimize similarity searches by organizing vectors efficiently. It speeds up nearest neighbor searches using techniques like HNSW, IVF, or PQ, but on its own, it doesn’t handle storage or metadata. It’s a core component used inside vector databases and search engines to enable fast retrieval.  

A **vector database** is a complete system that not only stores and indexes vector embeddings but also manages metadata, provides efficient querying, and supports scaling across large datasets. Unlike a simple index, a vector database is designed for real-time similarity search, offering optimized storage, distributed architectures, and additional features like filtering and hybrid search. Examples include FAISS, Pinecone, Weaviate, and Milvus.  

A **vector plugin** is an extension that adds vector search capabilities to traditional databases or search engines. Instead of using a dedicated vector database, these plugins allow relational databases like PostgreSQL (with pgvector) or search engines like Elasticsearch (with KNN search) to perform vector similarity searches. This approach is useful when integrating vector search into existing structured data workflows without migrating to a standalone vector database.  

In short, a vector index is just an optimized search structure, a vector database is a full-fledged retrieval system, and vector plugins enable vector search within traditional databases.

---

### 5.5 You are working on a project that involves a small dataset of customer reviews. Your task is to find similar reviews in the dataset. The priority is to achieve perfect accuracy in finding the most similar reviews, and the speed of the search is not a primary concern. Which search strategy would you choose and why?

---

### 5.6 Explain vector search strategies like clustering and Locality-Sensitive Hashing

---

### 5.7 How does clustering reduce search space? When does it fail and how can we mitigate these failures?

---

### 5.8 Explain Random projection index?

---

### 5.9 Explain Locality-sensitive hashing (LHS) indexing method?

---

### 5.10 Explain product quantization (PQ) indexing method?

---

### 5.11 Compare different Vector index and given a scenario, which vector index you would use for a project?

---

### 5.12 How would you decide ideal search similarity metrics for the use case?

---

### 5.13 Explain different types and challenges associated with filtering in vector DB?

---

### 5.14 How to decide the best vector database for your needs?

---
